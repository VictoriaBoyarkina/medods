(function(){"use strict";var e={4643:function(e,t,s){var a=s(6848),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.data.toastMessage?t("toast-notify",{attrs:{message:e.data.toastMessage}}):e._e(),t("div",{staticClass:"container"},[t("h2",{staticClass:"h2"},[e._v("Регистрация нового клиента")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.submitHandler.apply(null,arguments)}}},[t("fieldset",[t("legend",[e._v("Личные данные")]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.surname,expression:"state.surname"}],class:{invalid:e.v$.surname.$error},attrs:{type:"text",placeholder:"*Фамилия",autofocus:""},domProps:{value:e.state.surname},on:{input:function(t){t.target.composing||e.$set(e.state,"surname",t.target.value)}}}),e.v$.surname.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.surname.$errors[0].$message))]):e._e()]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.name,expression:"state.name"}],class:{invalid:e.v$.name.$error},attrs:{type:"text",placeholder:"*Имя"},domProps:{value:e.state.name},on:{input:function(t){t.target.composing||e.$set(e.state,"name",t.target.value)}}}),e.v$.name.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.name.$errors[0].$message))]):e._e()]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.patronymic,expression:"state.patronymic"}],attrs:{type:"text",placeholder:"Отчество"},domProps:{value:e.state.patronymic},on:{input:function(t){t.target.composing||e.$set(e.state,"patronymic",t.target.value)}}})])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.birthdate,expression:"state.birthdate"}],class:{invalid:e.v$.birthdate.$error},attrs:{type:"text",onfocus:"(this.type='date')",onblur:"(this.type='text')",placeholder:"*Дата рождения"},domProps:{value:e.state.birthdate},on:{input:function(t){t.target.composing||e.$set(e.state,"birthdate",t.target.value)}}}),e.v$.birthdate.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.birthdate.$errors[0].$message))]):e._e()]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.phoneNumber,expression:"state.phoneNumber"}],class:{invalid:e.v$.phoneNumber.$error},attrs:{type:"tel",placeholder:"*Номер телефона"},domProps:{value:e.state.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.state,"phoneNumber",t.target.value)}}}),e.v$.phoneNumber.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.phoneNumber.$errors[0].$message))]):e._e()])]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.gender,expression:"state.gender"}],attrs:{type:"radio",name:"gender",id:"male",value:"мужчина",checked:""},domProps:{checked:e._q(e.state.gender,"мужчина")},on:{change:function(t){return e.$set(e.state,"gender","мужчина")}}}),t("label",{staticClass:"label",attrs:{for:"male"}},[e._v("Мужчина")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.gender,expression:"state.gender"}],attrs:{type:"radio",name:"gender",id:"female",value:"женщина"},domProps:{checked:e._q(e.state.gender,"женщина")},on:{change:function(t){return e.$set(e.state,"gender","женщина")}}}),t("label",{attrs:{for:"female"}},[e._v("Женщина")])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"form-group-item"},[t("select-app",{class:{invalid:e.v$.clientsGroup.$error},attrs:{options:e.data.clientsOptions,selectedOption:e.data.clientsSelectedOpt,name:e.data.clientType},on:{selectOption:e.selectOption},model:{value:e.state.clientsGroup,callback:function(t){e.$set(e.state,"clientsGroup",t)},expression:"state.clientsGroup"}}),e.v$.clientsGroup.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.clientsGroup.$errors[0].$message))]):e._e()],1),t("div",{staticClass:"form-group-item"},[t("select-app",{attrs:{options:e.data.doctorsOptions,selectedOption:e.data.doctorsSelectedOpt,name:e.data.doctor},on:{selectOption:e.selectOption},model:{value:e.data.doctor,callback:function(t){e.$set(e.data,"doctor",t)},expression:"data.doctor"}})],1)]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.doNotSendSMS,expression:"state.doNotSendSMS"}],attrs:{type:"checkbox",id:"scales",name:"scales"},domProps:{checked:Array.isArray(e.state.doNotSendSMS)?e._i(e.state.doNotSendSMS,null)>-1:e.state.doNotSendSMS},on:{change:function(t){var s=e.state.doNotSendSMS,a=t.target,r=!!a.checked;if(Array.isArray(s)){var o=null,n=e._i(s,o);a.checked?n<0&&e.$set(e.state,"doNotSendSMS",s.concat([o])):n>-1&&e.$set(e.state,"doNotSendSMS",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.state,"doNotSendSMS",r)}}}),t("label",{attrs:{for:"scales"}},[e._v("Не отправлять смс")])])]),t("fieldset",[t("legend",[e._v("Адресс")]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.adress.index,expression:"state.adress.index"}],attrs:{type:"text",placeholder:"Индекс"},domProps:{value:e.state.adress.index},on:{input:function(t){t.target.composing||e.$set(e.state.adress,"index",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.adress.country,expression:"state.adress.country"}],attrs:{type:"text",placeholder:"Страна"},domProps:{value:e.state.adress.country},on:{input:function(t){t.target.composing||e.$set(e.state.adress,"country",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.adress.region,expression:"state.adress.region"}],attrs:{type:"text",placeholder:"Область"},domProps:{value:e.state.adress.region},on:{input:function(t){t.target.composing||e.$set(e.state.adress,"region",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.adress.city,expression:"state.adress.city"}],class:{invalid:e.v$.adress.city.$error},attrs:{type:"text",placeholder:"*Город"},domProps:{value:e.state.adress.city},on:{input:function(t){t.target.composing||e.$set(e.state.adress,"city",t.target.value)}}}),e.v$.adress.city.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.adress.city.$errors[0].$message))]):e._e()]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.adress.street,expression:"state.adress.street"}],attrs:{type:"text",placeholder:"Улица"},domProps:{value:e.state.adress.street},on:{input:function(t){t.target.composing||e.$set(e.state.adress,"street",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.adress.building,expression:"state.adress.building"}],attrs:{type:"text",placeholder:"Дом"},domProps:{value:e.state.adress.building},on:{input:function(t){t.target.composing||e.$set(e.state.adress,"building",t.target.value)}}})])])]),t("fieldset",[t("legend",[e._v("Паспорт")]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"form-group-item"},[t("select-app",{class:{invalid:e.v$.document.type.$error},attrs:{options:e.data.documentsOptions,selectedOption:e.data.documentsSelectedOpt,name:e.data.docType},on:{selectOption:e.selectOption},model:{value:e.state.document.type,callback:function(t){e.$set(e.state.document,"type",t)},expression:"state.document.type"}}),e.v$.document.type.$error?t("div",{staticClass:"error"},[e._v(" "+e._s(e.v$.document.type.$errors[0].$message))]):e._e()],1),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.document.series,expression:"state.document.series"}],attrs:{type:"text",placeholder:"Серия"},domProps:{value:e.state.document.series},on:{input:function(t){t.target.composing||e.$set(e.state.document,"series",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.document.number,expression:"state.document.number"}],attrs:{type:"text",placeholder:"Номер"},domProps:{value:e.state.document.number},on:{input:function(t){t.target.composing||e.$set(e.state.document,"number",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.document.issuedBy,expression:"state.document.issuedBy"}],attrs:{type:"text",placeholder:"Кем выдан"},domProps:{value:e.state.document.issuedBy},on:{input:function(t){t.target.composing||e.$set(e.state.document,"issuedBy",t.target.value)}}})]),t("div",{staticClass:"form-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.state.document.issueDate,expression:"state.document.issueDate"}],class:{invalid:e.v$.document.issueDate.$error},attrs:{type:"text",onfocus:"(this.type='date')",onblur:"(this.type='text')",placeholder:"*Дата выдачи"},domProps:{value:e.state.document.issueDate},on:{input:function(t){t.target.composing||e.$set(e.state.document,"issueDate",t.target.value)}}}),e.v$.document.issueDate.$error?t("div",{staticClass:"error"},[e._v(e._s(e.v$.document.issueDate.$errors[0].$message)+" ")]):e._e()])])]),e._m(0),e._m(1)])])],1)},o=[function(){var e=this,t=e._self._c;return t("p",[t("i",[e._v("*Поле обязательное для заполнения.")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group-item"},[t("input",{attrs:{type:"submit",value:"Сохранить"}})])}],n=function(){var e=this,t=e._self._c;return t("div",{ref:"select",staticClass:"custom-select"},[e._e(),t("div",{staticClass:"select-styled",on:{click:e.toggleOptions}},[e._v(e._s(e.selectedOption))]),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"select-options"},e._l(e.options,(function(s){return t("li",{key:s.value,on:{click:function(t){return e.selectOption(s)}}},[e._v(e._s(s.text))])})),0)])},i=[],d={name:"SelectApp",props:["options","selectedOption","name"],data(){return{isOpen:!1}},methods:{toggleOptions(){this.isOpen=!this.isOpen;const e=e=>this.isOpen=this.$refs.select.contains(e.target)&&this.isOpen;document.addEventListener("click",e),this.$on("hook:beforeDestroy",(()=>document.removeEventListener("click",e)))},selectOption(e){this.isOpen=!1,this.$emit("selectOption",{selectedOption:e.text,name:this.name})}}},c=d,l=s(1656),u=(0,l.A)(c,n,i,!1,null,null,null),m=u.exports,p=function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"toast"},[e._v(" "+e._s(e.message)+" ")]):e._e()},v=[],g={name:"ToastNotify",props:{message:String,duration:{type:Number,default:3e3}},data(){return{show:!0}},watch:{message(e){e&&(this.show=!0,setTimeout((()=>{this.show=!1}),this.duration))}}},f=g,h=(0,l.A)(f,p,v,!1,null,"3221f03a",null),$=h.exports,y=s(7760),_=s(9428),b={name:"App",components:{SelectApp:m,ToastNotify:$},setup(){const e=(0,a.Kh)({toastMessage:"",clientType:"clientType",doctor:"doctor",docType:"docType",initClientsSelectedOpt:"*Группа клиентов",initDoctorsSelectedOpt:"Лечащий врач",initDocumentsSelectedOpt:"*Тип документа",clientsSelectedOpt:"*Группа клиентов",doctorsSelectedOpt:"Лечащий врач",documentsSelectedOpt:"*Тип документа",clientsOptions:[{text:"VIP",value:"1"},{text:"Проблемные",value:"2"},{text:"ОМС",value:"3"}],doctorsOptions:[{text:"Иванов",value:"1"},{text:"Захаров",value:"2"},{text:"Чернышева",value:"3"}],documentsOptions:[{text:"Паспорт",value:"1"},{text:"Свидетельство о рождении",value:"2"},{text:"Вод. удостоверение",value:"3"}]}),t=(0,a.Kh)({surname:"",name:"",patronymic:"",birthdate:"",phoneNumber:"",gender:"",clientsGroup:"",doctor:"",doNotSendSMS:"",adress:{index:"",country:"",region:"",city:"",street:"",building:""},document:{type:"",series:"",number:"",issuedBy:"",issueDate:""}}),s=e=>"7"===e.charAt(0),r=()=>e.documentsSelectedOpt!==e.initDocumentsSelectedOpt,o=()=>e.clientsSelectedOpt!==e.initClientsSelectedOpt,n={surname:{required:_._$.withMessage("Введите фамилию",_.mw)},name:{required:_._$.withMessage("Введите имя",_.mw)},birthdate:{required:_._$.withMessage("Укажите дату рождения",_.mw)},phoneNumber:{required:_._$.withMessage("Введите номер телефона",_.mw),numeric:_._$.withMessage("Должен содержать только цифры",_.sH),startsWith7:_._$.withMessage("Должен начинаться с цифры 7",s),minLength:_._$.withMessage("Должен содержать 11 цифр",(0,_.Bp)(11)),maxLength:_._$.withMessage("Должен содержать 11 цифр",(0,_.Ru)(11))},clientsGroup:{clientsRequired:_._$.withMessage("Выберете группу клиентов",o)},adress:{city:{required:_._$.withMessage("Введите город",_.mw)}},document:{type:{docRequired:_._$.withMessage("Выберете тип документа",r)},issueDate:{required:_._$.withMessage("Укажите дату выдачи",_.mw)}}},i=(0,y.fG)(n,t),d=()=>{if(console.log(i),i.value.$touch(),i.value.$invalid)console.log("Form validation failed");else{const s={surname:t.surname,name:t.name,patronymic:t.patronymic,birthdate:t.birthdate,phoneNumber:t.phoneNumber,gender:t.gender,clientsGroup:e.clientsSelectedOpt,doctor:e.doctorsSelectedOpt,doNotSendSMS:t.doNotSendSMS,adress:{index:t.adress.index,country:t.adress.country,region:t.adress.region,city:t.adress.city,street:t.adress.street,building:t.adress.building},document:{type:e.documentsSelectedOpt,series:t.document.series,number:t.document.number,issuedBy:t.document.issuedBy,issueDate:t.document.issueDate}};console.log(s),e.toastMessage="Клиент успешно создан!",setTimeout((()=>{e.toastMessage=""}),3e3),console.log("Form submitted successfully")}},c=({selectedOption:t,name:s})=>{switch(s){case"clientType":e.clientsSelectedOpt=t;break;case"doctor":e.doctorsSelectedOpt=t;break;case"docType":e.documentsSelectedOpt=t;break;default:break}};return{submitHandler:d,selectOption:c,state:t,v$:i,data:e}}},x=b,O=(0,l.A)(x,r,o,!1,null,null,null),S=O.exports;a.Ay.config.productionTip=!1,new a.Ay({render:e=>e(S)}).$mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,o){if(!a){var n=1/0;for(l=0;l<e.length;l++){a=e[l][0],r=e[l][1],o=e[l][2];for(var i=!0,d=0;d<a.length;d++)(!1&o||n>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[d])}))?a.splice(d--,1):(i=!1,o<n&&(n=o));if(i){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[a,r,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,n=a[0],i=a[1],d=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(d)var l=d(s)}for(t&&t(a);c<n.length;c++)o=n[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},a=self["webpackChunkmedods"]=self["webpackChunkmedods"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(4643)}));a=s.O(a)})();
//# sourceMappingURL=app.c845b159.js.map